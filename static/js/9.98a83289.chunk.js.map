{"version":3,"sources":["pages/dashboard/components/trendingProducts/components/creditCard/index.js"],"names":["CreditCard","props","_this","Object","F_projects_backup_one_bajaj_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","F_projects_backup_one_bajaj_web_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","F_projects_backup_one_bajaj_web_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","renderRewards","rewards","length","map","reward","index","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","key","concat","substr","renderCards","trendingCards","state","renderElements","count","forEach","item","itemCount","element","find","x","title","push","className","src","picture","alt","annual_fee","href","onClick","pushToDataLayer","window","dataLayer","event","eventCategory","eventAction","location","eventLabel","loading","setState","requestHelper","getCreditCardTrending","retVal","status","data","showTabs","_components_spinner_spinner__WEBPACK_IMPORTED_MODULE_8__","id","role","aria-labelledby","React","Component"],"mappings":"8OAIqBA,cACjB,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACfE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAkBVQ,cAAgB,SAACC,GACb,OAAOA,GAAWA,EAAQC,QAAUD,EAAQE,IAAI,SAACC,EAAQC,GACrD,OAAIA,EAAQ,EACD,KAEHC,EAAAC,EAAAC,cAAA,MAAIC,IAAG,QAAAC,OAAUL,IAAUD,EAAOO,OAAO,EAAG,IAA5C,UAxBGlB,EA6BnBmB,YAAc,WAAM,IACRC,EAAkBpB,EAAKqB,MAAvBD,cAEFE,EAAiB,GACnBC,EAAQ,EAcZ,MAhBc,CAAC,UAAW,SAAU,aAG9BC,QAAQ,SAAAC,GACV,IAAIC,GAAY,EAChBN,EAAcK,GAAMD,QAAQ,SAAAG,GACxB,OAAID,EAAkB,KAClBH,EAAQ,EAAU,UACND,EAAeM,KAAK,SAAAC,GAAC,OAAKA,EAAEC,QAAUH,EAAQG,UAE1DR,EAAeS,KAAKJ,GACpBJ,GAAgB,EAChBG,GAAY,QAIpBJ,EAAeb,OACRa,EAAeZ,IAAI,SAAAe,GACtB,OAAQZ,EAAAC,EAAAC,cAAA,OAAKiB,UAAU,OAAOhB,IAAKS,EAAKK,OACpCjB,EAAAC,EAAAC,cAAA,OAAKkB,IAAKR,EAAKS,QAASF,UAAU,eAAeG,IAAI,QACrDtB,EAAAC,EAAAC,cAAA,OAAKiB,UAAU,aACXnB,EAAAC,EAAAC,cAAA,MAAIiB,UAAU,cAAcP,EAAKK,OACjCjB,EAAAC,EAAAC,cAAA,OAAKiB,UAAU,cAAf,cAAuCnB,EAAAC,EAAAC,cAAA,uBAAUU,EAAKW,aACtDvB,EAAAC,EAAAC,cAAA,OAAKiB,UAAU,WAAUnB,EAAAC,EAAAC,cAAA,sBACzBF,EAAAC,EAAAC,cAAA,UAAKf,EAAKO,cAAckB,EAAKjB,UAC7BK,EAAAC,EAAAC,cAAA,KAAGsB,KAAK,yGACJL,UAAU,wBAAwBM,QAAS,kBAAMtC,EAAKuC,gBAAgBd,EAAKK,SAD/E,kBAQT,MAhEQ9B,EAmEnBuC,gBAAkB,SAACT,GAEfU,OAAOC,UAAUV,KAAK,CAClBW,MAAS,6BACTC,cAAA,uBAAA1B,OAAwCa,GAAS,IACjDc,YAAeJ,OAAOK,SAASR,KAC/BS,WALQ,4GAlEZ9C,EAAKqB,MAAQ,CACTD,cAAe,GACf2B,SAAS,GAJE/C,wMASfG,KAAK6C,SAAS,CAAED,SAAS,aACJE,IAAcC,+BACb,OADhBC,UACKC,OACPjD,KAAK6C,SAAS,CAAE5B,cAAe+B,EAAOE,MAAQF,EAAOE,KAAKA,KAAMN,SAAS,KAEzE5C,KAAKJ,MAAMuD,SAAS,YAAY,GAChCnD,KAAK6C,SAAS,CAAED,SAAS,wIAgE7B,OADoB5C,KAAKkB,MAAjB0B,QAEGlC,EAAAC,EAAAC,cAACwC,EAAA,EAAD,MAGP1C,EAAAC,EAAAC,cAAA,OAAKiB,UAAU,4BAA4BwB,GAAG,aAAaC,KAAK,WAAWC,kBAAgB,kBACvF7C,EAAAC,EAAAC,cAAA,OAAKiB,UAAU,uCACV7B,KAAKgB,eAEVN,EAAAC,EAAAC,cAAA,KAAGsB,KAAK,yGACJC,QAASnC,KAAKoC,gBACdP,UAAU,8CAFd,YAGanB,EAAAC,EAAAC,cAAA,KAAGiB,UAAU,gCA3FF2B,IAAMC","file":"static/js/9.98a83289.chunk.js","sourcesContent":["import React from 'react';\r\nimport Spinner from '../../../../../../components/spinner/spinner';\r\nimport requestHelper from '../../../../../../helpers/request';\r\n\r\nexport default class CreditCard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            trendingCards: [],\r\n            loading: true\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({ loading: true });\r\n        const retVal = await requestHelper.getCreditCardTrending();\r\n        if (retVal.status === 200) {\r\n            this.setState({ trendingCards: retVal.data && retVal.data.data, loading: false })\r\n        } else {\r\n            this.props.showTabs('isCredit', false);\r\n            this.setState({ loading: false });\r\n        }\r\n    }\r\n\r\n    renderRewards = (rewards) => {\r\n        return rewards && rewards.length && rewards.map((reward, index) => {\r\n            if (index > 1) {\r\n                return null;\r\n            }\r\n            return (<li key={`index${index}`}>{reward.substr(0, 65)}...</li>\r\n            )\r\n        })\r\n    }\r\n\r\n    renderCards = () => {\r\n        const { trendingCards } = this.state;\r\n        const cards = ['Rewards', 'Travel', 'Lifestyle'];\r\n        const renderElements = [];\r\n        let count = 0;\r\n        cards.forEach(item => {\r\n            let itemCount = false;\r\n            trendingCards[item].forEach(element => {\r\n                if (itemCount) return null;\r\n                if (count > 2) return null;\r\n                const isFound = renderElements.find(x => (x.title === element.title));\r\n                if (!isFound) {\r\n                    renderElements.push(element);\r\n                    count = count + 1;\r\n                    itemCount = true;\r\n                }\r\n            })\r\n        });\r\n        if (renderElements.length){\r\n            return renderElements.map(item => {\r\n                return (<div className=\"card\" key={item.title}>\r\n                    <img src={item.picture} className=\"card-img-top\" alt=\"...\" />\r\n                    <div className=\"card-body\">\r\n                        <h5 className=\"card-title\">{item.title}</h5>\r\n                        <div className=\"annual-fee\">Annual Fee <span>  â‚¹{item.annual_fee}</span></div>\r\n                        <div className=\"rewards\"><h5>Rewards</h5></div>\r\n                        <ul>{this.renderRewards(item.rewards)}</ul>\r\n                        <a href=\"https://www.onebajaj.capital/credit-card/?utm_source=homepage_trending&utm_medium=label&utm_content=cc\" \r\n                            className=\"btn btn-primary block\" onClick={() => this.pushToDataLayer(item.title)}>\r\n                            Learn More\r\n                        </a>\r\n                    </div>\r\n                </div>)\r\n            })\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pushToDataLayer = (title) => {\r\n        const url = 'https://www.onebajaj.capital/credit-card/?utm_source=homepage_trending&utm_medium=label&utm_content=cc'\r\n        window.dataLayer.push({\r\n            'event': 'Credit_Card_Purpose_Select',\r\n            'eventCategory': `Credit_Card_Purpose|${title || ''}`, // {{dynamic}} contains Portfolio_Click i.e Mutual_Funds _Purpose|Tax_Saving, Mutual_Funds _Purpose|Wealth Creation Portfolio\r\n            'eventAction': window.location.href, // {{dynamic}} contains current page url i.e stage.onebajaj.capital\r\n            'eventLabel': url, // {{dynamic}} contains the url of page to which user is redirected i.e stage.onebajaj.capital/about\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { loading } = this.state;\r\n        if (loading) {\r\n            return <Spinner />\r\n        }\r\n        return (\r\n            <div className=\"tab-pane fade show active\" id=\"pills-home\" role=\"tabpanel\" aria-labelledby=\"pills-home-tab\">\r\n                <div className=\"card-wrapper justify-content-center\">\r\n                    {this.renderCards()}\r\n                </div>\r\n                <a href=\"https://www.onebajaj.capital/credit-card/?utm_source=homepage_trending&utm_medium=label&utm_content=cc\"\r\n                    onClick={this.pushToDataLayer}\r\n                    className=\"viewall text-center justify-content-center\">\r\n                    View all <i className=\"fas fa-arrow-right\" />\r\n                </a>\r\n            </div>\r\n        )\r\n    }\r\n}"],"sourceRoot":""}